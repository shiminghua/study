<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Javascript Ninja</title>
  <style>
    #results li.pass { color: green; }
    #results li.fail { color: red; }
  </style>
</head>

<body>

  <h1>Javascript Ninja - event</h1>

  <div id='testSubject1' title="click once">click once</div>
  <div id='testSubject2' title="mouse over">mouse over</div>
  <div id='testSubject3' title="many times">many times</div>

  <h2>assert - 断言</h2>
  <ul id='results'></ul>

  <!--<script src="../js/assert/assert.js"></script>-->
  <!--<script src="../js/assert/assert-along.js"></script>-->
  <!--<script src="../js/assert/assert-async.js"></script>-->

  <script src="../js/event/events.js"></script>

  <script type="text/javascript">

   addEvent(window, 'load', function() {

     let subjects = document.getElementsByTagName('div');

     for (let i = 0; i < subjects.length; i++) {
       (function(elem) {

         addEvent(elem, 'click', function handler(e) {
           this.style.backgroundColor = 'green';
           console.log(getData(elem));
           removeEvent(elem, 'click', handler);
         });

         addEvent(elem, 'mouseover', function handler(e) {
           this.style.backgroundColor = 'red';
         });

       })(subjects[i]);
     }

   });

  </script>

</body>
</html>