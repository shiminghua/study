<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Javascript Ninja</title>
  <style>
    #results li.pass { color: green; }
    #results li.fail { color: red; }
  </style>
</head>

<body>

  <h1>闭包 - closure</h1>

  <div id="list">
    <button id="test">Click Me!</button>
  </div>

  <h2>闭包 - closure</h2>
  <ul id='results'>
    <li id="a">a</li>
    <li id="b">b</li>
    <li>c</li>
  </ul>

  <!--<script src="../js/assert/assert.js"></script>-->
  <script src="../js/assert/assert-along.js"></script>
  <!--<script src="../js/assert/assert-async.js"></script>-->

  <!--<script src="object/object.js"></script>-->
  <script src="object/class.js"></script>
  

  <script>

    console.log(/xyz/.test(function() { xyz; }));

    var Person = Object.subClass({
      init: function(isDancing) {
        this.dancing = isDancing;
      },
      dance: function() {
        return this.dancing;
      }
    });

    var Ninja = Person.subClass({
      init: function() {
        this._super(false);
      },
      // dance: function() {
      //   return this._super();
      // },
      swingSword: function() {
        return true;
      }
    });

    var person = new Person(true);
    assert(person.dance(), 'The person is dancing.');

    var ninja = new Ninja();
    assert(ninja.swingSword(), 'The sword is swingsword.');
    assert(!ninja.dance(), 'The ninja is not dancing.');
    assert(ninja instanceof Ninja && ninja instanceof Person, 'Ninja is a Ninja and a Person.');

  </script>

</body>
</html>