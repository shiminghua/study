<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Javascript Ninja</title>
  <style>
    #results li.pass { color: green; }
    #results li.fail { color: red; }
  </style>
</head>

<body>

  <h1>Javascript Ninja</h1>

  <div id="list">
    aaaaa
    <p>bbbbb</p>
  </div>

  <input id='first' />
  <a id='second'></a>

  <h2>assert - 断言</h2>
  <ul id='results'></ul>

  <!--<script src="../js/assert/assert.js"></script>-->
  <script src="../js/assert/assert-along.js"></script>
  <!--<script src="../js/assert/assert-async.js"></script>-->

  <script>

   function globalEval(data) {

     data = data.replace(/^\s*|\s*$/, "");

     if (data) {
       let head = document.getElementsByTagName('head')[0] || 
        document.documentElement,
        script = document.createElement('script');
      
      script.type = 'text/javascript';
      script.text = data;

      head.appendChild(script);
      head.removeChild(script);
     }

   }

   (function() {
     globalEval('let test = 5;')
   })();   

   assert(test === 5, 'The code was evaluated globally.');

  </script>

</body>
</html>